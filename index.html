<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Гадание «Карта дня Ленорман»</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .input-section {
            margin-bottom: 20px;
            text-align: center;
        }
        input[type="text"] {
            padding: 10px;
            margin: 5px;
            width: 150px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        button {
            padding: 10px 20px;
            background-color: #6200ea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #3700b3;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .sphere {
            margin-bottom: 15px;
        }
        .sphere h3 {
            color: #6200ea;
            margin: 0 0 5px;
        }
        .error {
            color: red;
            text-align: center;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Гадание «Карта дня Ленорман»</h1>
    <div class="input-section">
        <label for="birthDate">Дата рождения (ДД.ММ.ГГГГ):</label><br>
        <input type="text" id="birthDate" placeholder="15.03.1985"><br>
        <label for="targetDate">Интересующая дата (ДД.ММ.ГГГГ):</label><br>
        <input type="text" id="targetDate" placeholder="25.04.2025"><br>
        <button onclick="calculateLenormand()">Рассчитать</button>
    </div>
    <div id="error" class="error"></div>
    <div id="result" class="result"></div>

    <script>
        function calculateNumber(dateStr) {
            const digits = dateStr.replace(/\D/g, '').split('').map(Number);
            let total = digits.reduce((sum, digit) => sum + digit, 0);
            while (total > 36) {
                total = total.toString().split('').map(Number).reduce((sum, digit) => sum + digit, 0);
            }
            return total;
        }

        function getLenormandCard(number, sphere) {
            const cards = {
                1: ["Всадник", {
                    1: "Неожиданные события или важные новости.",
                    2: "Сообщение от партнера или спонтанное знакомство.",
                    3: "Деловая переписка, новые возможности.",
                    4: "Прилив энергии, но избегай переутомления.",
                    5: "Активный, коммуникабельный человек.",
                    6: "Быстрое обучение или новый опыт.",
                    7: "Неожиданный звонок или визит родственника.",
                    8: "Активное общение или встреча с друзьями.",
                    9: "Новые идеи, вдохновение."
                }],
                2: ["Клевер", {
                    1: "Удачный день, мелкие радости.",
                    2: "Легкий флирт или приятный момент с партнером.",
                    3: "Неожиданный шанс или прибыль.",
                    4: "Хорошее самочувствие, прилив сил.",
                    5: "Оптимистичный, везучий человек.",
                    6: "Открытость к случайным возможностям.",
                    7: "Радостные моменты с близкими.",
                    8: "Веселое время с друзьями.",
                    9: "Вера в удачу и позитив."
                }],
                3: ["Корабль", {
                    1: "Поездка или смена обстановки.",
                    2: "Новые горизонты или временное отдаление.",
                    3: "Деловые поездки или новый проект.",
                    4: "Смена режима для восстановления.",
                    5: "Независимый, свободолюбивый человек.",
                    6: "Исследование новых идей.",
                    7: "Дистанция или поездка родственников.",
                    8: "Знакомство с кем-то издалека.",
                    9: "Поиск нового духовного пути."
                }],
                4: ["Дом", {
                    1: "Спокойный день, фокус на доме.",
                    2: "Уют и гармония с партнером.",
                    3: "Стабильность или работа из дома.",
                    4: "Отдых и забота о комфорте.",
                    5: "Надежный, семейный человек.",
                    6: "Создание внутренней стабильности.",
                    7: "Крепкие связи и поддержка.",
                    8: "Встречи в уютной обстановке.",
                    9: "Внутренний покой, ощущение дома."
                }],
                5: ["Дерево", {
                    1: "Стабильный день, забота о здоровье.",
                    2: "Глубокие, устойчивые отношения.",
                    3: "Долгосрочные проекты, надежность.",
                    4: "Укрепление организма, отдых.",
                    5: "Мудрый, уравновешенный человек.",
                    6: "Постепенное развитие, терпение.",
                    7: "Крепкие семейные узы.",
                    8: "Долговременные связи.",
                    9: "Духовный рост, укоренение."
                }],
                6: ["Тучи", {
                    1: "Неясность, возможные препятствия.",
                    2: "Недопонимание или временные сложности.",
                    3: "Задержки или неопределенность в делах.",
                    4: "Стресс, нужен отдых.",
                    5: "Человек, вызывающий смятение.",
                    6: "Работа над сомнениями.",
                    7: "Напряжение в отношениях.",
                    8: "Конфликты или недопонимание.",
                    9: "Период сомнений, поиск ясности."
                }],
                7: ["Змея", {
                    1: "Осторожность, возможные интриги.",
                    2: "Ревность или обман в отношениях.",
                    3: "Конкуренция или скрытые мотивы.",
                    4: "Скрытые проблемы, нужна диагностика.",
                    5: "Хитрый, манипулятивный человек.",
                    6: "Работа над доверием.",
                    7: "Осторожность в общении с родственниками.",
                    8: "Возможная зависть или сплетни.",
                    9: "Преодоление страхов и иллюзий."
                }],
                8: ["Гроб", {
                    1: "Завершение этапа, время отпустить старое.",
                    2: "Разрыв или трансформация отношений.",
                    3: "Увольнение или закрытие проекта.",
                    4: "Необходимость восстановления, отдых.",
                    5: "Человек, связанный с переменами или утратой.",
                    6: "Отпускание старых убеждений.",
                    7: "Завершение конфликта или отдаление.",
                    8: "Прекращение общения с кем-то.",
                    9: "Перерождение, внутреннее очищение."
                }],
                9: ["Букет", {
                    1: "Приятный день, комплименты или сюрпризы.",
                    2: "Романтика, подарки от партнера.",
                    3: "Признание или бонус.",
                    4: "Хорошее настроение, забота о внешности.",
                    5: "Обаятельный, щедрый человек.",
                    6: "Развитие через радость и творчество.",
                    7: "Праздник или теплые моменты.",
                    8: "Приятное общение, подарки.",
                    9: "Благодарность и внутренний свет."
                }],
                10: ["Коса", {
                    1: "Неожиданные изменения, будь осторожен.",
                    2: "Конфликт или разрыв с партнером.",
                    3: "Увольнение или срочные решения.",
                    4: "Риск травм, нужна осторожность.",
                    5: "Решительный, импульсивный человек.",
                    6: "Отсечение лишнего для роста.",
                    7: "Споры или резкие перемены.",
                    8: "Конфликт или разрыв с другом.",
                    9: "Очищение через преодоление трудностей."
                }],
                11: ["Кнут", {
                    1: "Напряженный день, споры.",
                    2: "Ссоры или страстные дискуссии с партнером.",
                    3: "Конкуренция или давление на работе.",
                    4: "Стресс, нужна физическая активность.",
                    5: "Напористый, требовательный человек.",
                    6: "Развитие через дисциплину.",
                    7: "Споры или строгость в семье.",
                    8: "Напряжение в общении.",
                    9: "Работа над внутренними конфликтами."
                }],
                12: ["Птицы", {
                    1: "Активное общение, много разговоров.",
                    2: "Разговоры с партнером, обсуждение планов.",
                    3: "Переговоры, звонки, суета.",
                    4: "Нервозность, нужен отдых.",
                    5: "Коммуникабельный, беспокойный человек.",
                    6: "Развитие через общение.",
                    7: "Живые дискуссии с родственниками.",
                    8: "Болтовня или встречи с друзьями.",
                    9: "Поиск ответов через разговоры."
                }],
                13: ["Ребенок", {
                    1: "Новый старт, легкость.",
                    2: "Новое знакомство или искры в отношениях.",
                    3: "Начало проекта или свежие идеи.",
                    4: "Прилив энергии, забота о себе.",
                    5: "Открытый, искренний человек.",
                    6: "Возвращение к простоте.",
                    7: "Радость от общения с детьми или близкими.",
                    8: "Новые друзья или легкое общение.",
                    9: "Чистота и открытость сердца."
                }],
                14: ["Лиса", {
                    1: "Будь внимателен, возможен обман.",
                    2: "Недоверие или скрытые мотивы партнера.",
                    3: "Конкуренция, нужно быть хитрее.",
                    4: "Скрытые симптомы, нужна проверка.",
                    5: "Хитрый, расчетливый человек.",
                    6: "Развитие стратегии и гибкости.",
                    7: "Осторожность в семейных делах.",
                    8: "Возможная неискренность друга.",
                    9: "Различение правды и иллюзий."
                }],
                15: ["Медведь", {
                    1: "День силы и уверенности.",
                    2: "Защищающий или властный партнер.",
                    3: "Влиятельный начальник или успех.",
                    4: "Физическая сила, но избегай перегрузок.",
                    5: "Мощный, авторитетный человек.",
                    6: "Развитие уверенности.",
                    7: "Защита и поддержка семьи.",
                    8: "Надежный друг, на которого можно опереться.",
                    9: "Внутренняя сила и стойкость."
                }],
                16: ["Звезды", {
                    1: "День вдохновения и ясности.",
                    2: "Романтические мечты или гармония.",
                    3: "Креативные идеи или успех.",
                    4: "Позитивное настроение, восстановление.",
                    5: "Вдохновляющий, мечтательный человек.",
                    6: "Следование мечтам.",
                    7: "Общие мечты с близкими.",
                    8: "Вдохновляющее общение.",
                    9: "Связь с высшими целями."
                }],
                17: ["Аист", {
                    1: "День перемен или обновления.",
                    2: "Новый этап в отношениях.",
                    3: "Смена работы или новые задачи.",
                    4: "Изменение привычек для здоровья.",
                    5: "Человек, приносящий перемены.",
                    6: "Готовность к новому.",
                    7: "Переезд или обновление в доме.",
                    8: "Новые знакомства или перемены.",
                    9: "Духовное обновление."
                }],
                18: ["Собака", {
                    1: "Поддержка от близких.",
                    2: "Верность и доверие в отношениях.",
                    3: "Надежный коллега или партнер.",
                    4: "Поддержка для восстановления.",
                    5: "Верный, преданный человек.",
                    6: "Развитие доверия.",
                    7: "Крепкие, верные связи.",
                    8: "Надежные друзья рядом.",
                    9: "Вера в поддержку высших сил."
                }],
                19: ["Башня", {
                    1: "День уединения или работы с системой.",
                    2: "Дистанция в отношениях или одиночество.",
                    3: "Работа с властями или крупной организацией.",
                    4: "Проверка здоровья в учреждении.",
                    5: "Авторитетный, замкнутый человек.",
                    6: "Создание личных границ.",
                    7: "Официальные дела или дистанция.",
                    8: "Ограниченное общение.",
                    9: "Уединение для размышлений."
                }],
                20: ["Сад", {
                    1: "День общения и мероприятий.",
                    2: "Групповые встречи или новые знакомства.",
                    3: "Нетворкинг или командная работа.",
                    4: "Групповые занятия для здоровья.",
                    5: "Общительный, популярный человек.",
                    6: "Развитие через связи.",
                    7: "Семейные собрания.",
                    8: "Активное общение с друзьями.",
                    9: "Духовное сообщество."
                }],
                21: ["Гора", {
                    1: "Препятствия, требующие терпения.",
                    2: "Трудности или холодность в отношениях.",
                    3: "Задержки или сложные задачи.",
                    4: "Хронические проблемы, нужна стойкость.",
                    5: "Упрямый или стойкий человек.",
                    6: "Преодоление трудностей.",
                    7: "Конфликты или упрямство.",
                    8: "Дистанция с друзьями.",
                    9: "Испытания для духовного роста."
                }],
                22: ["Развилка", {
                    1: "День выбора или развилки.",
                    2: "Решение в отношениях или выбор партнера.",
                    3: "Выбор пути или предложения.",
                    4: "Выбор лечения или режима.",
                    5: "Нерешительный или гибкий человек.",
                    6: "Осознанный выбор пути.",
                    7: "Выбор в семейных делах.",
                    8: "Разные пути с друзьями.",
                    9: "Выбор духовного направления."
                }],
                23: ["Крысы", {
                    1: "Мелкие неприятности, стресс.",
                    2: "Мелкие ссоры или раздражение.",
                    3: "Финансовые потери или суета.",
                    4: "Стресс, истощение, нужна забота.",
                    5: "Беспокойный, мелочный человек.",
                    6: "Работа над тревогами.",
                    7: "Мелкие конфликты в семье.",
                    8: "Раздражение в общении.",
                    9: "Очищение от мелочных мыслей."
                }],
                24: ["Сердце", {
                    1: "День, полный эмоций.",
                    2: "Страсть, романтика, гармония.",
                    3: "Работа с душой или эмоциональные проекты.",
                    4: "Эмоции влияют на самочувствие.",
                    5: "Чувственный, любящий человек.",
                    6: "Открытие сердца.",
                    7: "Любовь и тепло в семье.",
                    8: "Эмоциональная связь с друзьями.",
                    9: "Любовь как духовный путь."
                }],
                25: ["Кольцо", {
                    1: "Важные договоренности или повторения.",
                    2: "Укрепление отношений или помолвка.",
                    3: "Контракты или партнерство.",
                    4: "Регулярный режим для здоровья.",
                    5: "Надежный, обязательный человек.",
                    6: "Цикличность и уроки.",
                    7: "Крепкие семейные обязательства.",
                    8: "Долгосрочные связи.",
                    9: "Единство с миром."
                }],
                26: ["Книга", {
                    1: "Раскрытие тайн или учеба.",
                    2: "Скрытые аспекты отношений, тайны.",
                    3: "Изучение деталей или секретная информация.",
                    4: "Диагностика или изучение здоровья.",
                    5: "Умный, скрытный человек.",
                    6: "Погружение в знания.",
                    7: "Скрытые семейные дела.",
                    8: "Глубокие разговоры.",
                    9: "Изучение духовных текстов."
                }],
                27: ["Письмо", {
                    1: "Важное сообщение или документ.",
                    2: "Письмо или сообщение от партнера.",
                    3: "Документы, контракты, переписка.",
                    4: "Медицинские справки или советы.",
                    5: "Коммуникативный человек.",
                    6: "Развитие через общение.",
                    7: "Новости от родственников.",
                    8: "Переписка или звонки.",
                    9: "Послания от интуиции."
                }],
                28: ["Мужчина", {
                    1: "Влияние мужчины или активные действия.",
                    2: "Важная роль мужчины в отношениях.",
                    3: "Лидерство или влияние мужчины.",
                    4: "Физическая активность, энергия.",
                    5: "Активный, решительный мужчина.",
                    6: "Развитие уверенности.",
                    7: "Влияние мужчины в семейных делах.",
                    8: "Мужская поддержка.",
                    9: "Активный поиск истины."
                }],
                29: ["Женщина", {
                    1: "Влияние женщины или интуитивные решения.",
                    2: "Важная роль женщины в отношениях.",
                    3: "Забота или влияние женщины.",
                    4: "Слушай интуицию, забота о себе.",
                    5: "Заботливая, интуитивная женщина.",
                    6: "Развитие мягкости.",
                    7: "Влияние женщины в семейных делах.",
                    8: "Женская поддержка.",
                    9: "Связь с внутренней мудростью."
                }],
                30: ["Лилия", {
                    1: "День мудрых решений.",
                    2: "Зрелые, чистые отношения.",
                    3: "Мудрый подход к делам.",
                    4: "Спокойствие, забота о теле.",
                    5: "Мудрый, уравновешенный человек.",
                    6: "Развитие зрелости.",
                    7: "Мудрые советы от старших.",
                    8: "Глубокие, зрелые связи.",
                    9: "Чистота и духовная мудрость."
                }],
                31: ["Солнце", {
                    1: "Успешный, яркий день.",
                    2: "Страсть и радость в отношениях.",
                    3: "Успех, признание.",
                    4: "Прилив энергии, хорошее самочувствие.",
                    5: "Яркий, энергичный человек.",
                    6: "Развитие уверенности.",
                    7: "Радость и тепло в семье.",
                    8: "Веселое общение.",
                    9: "Внутренний свет и оптимизм."
                }],
                32: ["Луна", {
                    1: "Эмоциональный день, доверься интуиции.",
                    2: "Романтика, эмоциональная связь.",
                    3: "Признание или творческие проекты.",
                    4: "Эмоции влияют на самочувствие.",
                    5: "Чувствительный, интуитивный человек.",
                    6: "Работа с эмоциями.",
                    7: "Эмоциональная связь с близкими.",
                    8: "Глубокие разговоры.",
                    9: "Связь с подсознанием."
                }],
                33: ["Ключ", {
                    1: "Решение проблемы, открытие.",
                    2: "Ключевой момент в отношениях.",
                    3: "Успешное решение или прорыв.",
                    4: "Решение проблемы со здоровьем.",
                    5: "Решительный, находчивый человек.",
                    6: "Открытие новых возможностей.",
                    7: "Решение семейных вопросов.",
                    8: "Помощь друга в решении.",
                    9: "Духовное прозрение."
                }],
                34: ["Рыбы", {
                    1: "День изобилия или глубоких эмоций.",
                    2: "Глубокие чувства, эмоциональная связь.",
                    3: "Финансовая прибыль или творчество.",
                    4: "Эмоции влияют на тело, нужен баланс.",
                    5: "Чувствительный, щедрый человек.",
                    6: "Погружение в подсознание.",
                    7: "Эмоциональная поддержка.",
                    8: "Глубокие связи.",
                    9: "Работа с внутренним миром."
                }],
                35: ["Якорь", {
                    1: "Стабильный, надежный день.",
                    2: "Надежные, стабильные отношения.",
                    3: "Постоянная работа или надежность.",
                    4: "Стабильное самочувствие, режим.",
                    5: "Надежный, устойчивый человек.",
                    6: "Создание стабильности.",
                    7: "Крепкие, надежные связи.",
                    8: "Постоянные друзья.",
                    9: "Укоренение в вере."
                }],
                36: ["Крест", {
                    1: "Трудный день, испытания.",
                    2: "Жертвы или сложности в отношениях.",
                    3: "Трудности или бремя обязанностей.",
                    4: "Стресс, нужна забота.",
                    5: "Человек, несущий бремя.",
                    6: "Уроки через трудности.",
                    7: "Тяжелый период в семье.",
                    8: "Испытания в дружбе.",
                    9: "Духовные испытания, принятие."
                }]
            };
            const card = cards[number] || ["Неизвестно", {1: "Число вне диапазона."}];
            return [card[0], card[1][sphere] || "Нет интерпретации для этой сферы."];
        }

        function validateDate(dateStr) {
            const regex = /^\d{2}\.\d{2}\.\d{4}$/;
            if (!regex.test(dateStr)) return false;
            const [day, month, year] = dateStr.split('.').map(Number);
            if (day < 1 || day > 31 || month < 1 || month > 12 || year < 1900 || year > 2100) return false;
            return true;
        }

        function calculateLenormand() {
            const birthDate = document.getElementById('birthDate').value;
            const targetDate = document.getElementById('targetDate').value;
            const errorDiv = document.getElementById('error');
            const resultDiv = document.getElementById('result');

            errorDiv.textContent = '';
            resultDiv.innerHTML = '';

            if (!validateDate(birthDate) || !validateDate(targetDate)) {
                errorDiv.textContent = 'Пожалуйста, введите даты в формате ДД.ММ.ГГГГ (например, 15.03.1985).';
                return;
            }

            const P = calculateNumber(birthDate);
            const D = calculateNumber(targetDate);

            const spheres = [
                "Общие вопросы и события дня",
                "Любовь и взаимоотношения",
                "Работа, финансы и деловые вопросы",
                "Здоровье, самочувствие и благополучие",
                "Значимая решающая личность дня",
                "Личностный рост и саморазвитие",
                "Семья и дом",
                "Дружба и социальные связи",
                "Духовность и внутренний мир"
            ];

            let output = '<h2>Результаты гадания</h2>';
            for (let i = 0; i < spheres.length; i++) {
                let total;
                if (i === 1) { // Любовь и взаимоотношения
                    total = 2 * P;
                } else {
                    total = P + D + (i + 1);
                }
                while (total > 36) {
                    total = total.toString().split('').map(Number).reduce((sum, digit) => sum + digit, 0);
                }
                const [cardName, interpretation] = getLenormandCard(total, i + 1);
                output += `
                    <div class="sphere">
                        <h3>${i + 1}. ${spheres[i]}</h3>
                        <p><strong>Карта:</strong> ${cardName} (#${total})</p>
                        <p><strong>Предсказание:</strong> ${interpretation}</p>
                    </div>
                `;
            }
            resultDiv.innerHTML = output;
        }
    </script>
</body>
</html>
